pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
-- road to riches
-- by ttam

function _init()
	n=0 -- random number
	lotto={} -- empty array
	nmax=46 -- highest number
	your_num=get_rand(nmax)
	match = false
end

function _update()

	-- record previous number
	lastn=n
	
	-- count number of numbers
	listsize=count(lotto)+1
		
	-- press ‚ùé 
	if btnp(‚ùé) and listsize < 7
	then
	
		-- generate random number
		n = get_rand(nmax)
		
		-- play sound after each num
		if listsize < 6 then
			sfx(0)
		else
			sfx(1)
		end -- end if listsize
		
		-- prevent duplicate numbers
		while 
				 n == lotto[1]
		or n == lotto[2]
		or n == lotto[3]
		or n == lotto[4]
		or n == lotto[5]
		do
			n = get_rand(nmax)
		end -- end while
		
		-- add the new number to list
		if listsize <= 6 then
			add(lotto,n)
		end -- end if count < 6
	
	end -- end if btnp(‚ùé)
	
	-- reset lotto
	if btnp(üÖæÔ∏è) then
		_init()
		sfx(2)
	end -- end if btnp(üÖæÔ∏è)
	
end -- end _update()

function _draw()
	cls()
	map()
	
	-- title
	print("road to riches",37,2,11)
	print("by ttam",50,10,6)
	
	-- print player's number
	print("try to match:",35,68,7)
	if your_num < 10 then
		ynx = 92
	else
		ynx = 90
	end -- end if your_num < 10
	print(your_num,ynx,68,10)
	
	-- draw car below player's num
	spr(3,90,73)
	
	-- print instructions
	print("press ‚ùé for rng",33,55,7)
	
	-- print lotto numbers
	if listsize then
		for i=1,6 do
			if lotto[i] then
			
				-- omit comma from last num
				if i==6 then
					text = lotto[i]
				else
					text = lotto[i].." "
				end -- end if/else i==6
				
				offset = i*12
				carx = i*12
				
				-- adjust spacing for
				-- single-digits numbers
				-- (working inconsistently)
				if i > 0 then
					if
						lotto[i] < 10 then
						offset = (i*12) + 2
					else
						offset = i*12
					end -- end if > 10
				end -- end if i > 1
				
				-- draw car for each number
				spr(2,20+carx,92)
				
				-- change color for match
				if lotto[i] == your_num then 
					c=10 -- yellow
					match = true
				else
					c = 7 -- white
				end -- end if match
				
				-- print each number
				print(text,20+offset,88,c)
			end -- end if lotto[i}
		end -- end for
		
		-- print reset instructions
		if listsize > 1 then
			print("press üÖæÔ∏è to reset",32,108,6)
		end -- end if listsize >= 1
	
	end -- end if listsize > 0
	
	-- victory text
	if match then
		print("you win!",48,116,11)
	end -- end if match
	
	-- failure text
	if listsize > 6 and match==false
	then
		print("you lose",49,116,8)
	end -- end if match == false
	
end -- end _draw()

function get_rand(h)
	r = 1+flr(rnd(h))
	return r
end-- end function get_rand()
__gfx__
00000000555555550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000666666660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
007007005555555508888700007cccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000770005555555508888770077cccc0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000770005555555588888888cccccccc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
007007005555555588888888cccccccc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000005555555586888868c6cccc6c000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000555555550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000555555550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000555555550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000aaaaaaaa0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000555555550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000555555550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000aaaaaaaa0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000555555550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000555555550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000555555550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000555555550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000555555550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000555555550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000555555550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000555555550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000666666660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000555555550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000555555550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000555555550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000555555550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000555555550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000555555550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000555555550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000555555550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000555555550000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__label__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000bbb00bb0bbb0bb000000bbb00bb00000bbb0bbb00bb0b0b0bbb00bb000000000000000000000000000000000000
0000000000000000000000000000000000000b0b0b0b0b0b0b0b000000b00b0b00000b0b00b00b000b0b0b000b00000000000000000000000000000000000000
0000000000000000000000000000000000000bb00b0b0bbb0b0b000000b00b0b00000bb000b00b000bbb0bb00bbb000000000000000000000000000000000000
0000000000000000000000000000000000000b0b0b0b0b0b0b0b000000b00b0b00000b0b00b00b000b0b0b00000b000000000000000000000000000000000000
0000000000000000000000000000000000000b0b0bb00b0b0bbb000000b00bb000000b0b0bbb00bb0b0b0bbb0bb0000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000666060600000666066606660666000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000606060600000060006006060666000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000660066600000060006006660606000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000606000600000060006006060606000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000666066600000060006006060606000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000007070077070707770000077007070777077707770777000000000000000000000000000000000000000000
00000000000000000000000000000000000000000007070707070707070000070707070777070707000707007000000000000000000000000000000000000000
00000000000000000000000000000000000000000007770707070707700000070707070707077007700770000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000070707070707070000070707070707070707000707007000000000000000000000000000000000000000
00000000000000000000000000000000000000000007770770007707070000070700770707077707770707000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000aaa0aaa0000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000a000a0000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000aaa000a0000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000a00000a0000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000aaa000a0000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000008888700000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000008888770000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000088888888000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000088888888000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000086888868000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000077707770777007700770000007777700000077700770777000007770770007700000000000000000000000000000000
00000000000000000000000000000000070707070700070007000000077070770000070007070707000007070707070000000000000000000000000000000000
00000000000000000000000000000000077707700770077707770000077707770000077007070770000007700707070000000000000000000000000000000000
00000000000000000000000000000000070007070700000700070000077070770000070007070707000007070707070700000000000000000000000000000000
00000000000000000000000000000000070007070777077007700000007777700000070007700707000007070707077700000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
55555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
66666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
55555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
55555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
55555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
55555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
55555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
55555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
55555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
55555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
55555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
55555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
55555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
55555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
55555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
55555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
55555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
55555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
55555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
55555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
55555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
55555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
55555555555555555555555555555555775577755555aaa5aaa55555557775555555777577755555557775555555775577755555555555555555555555555555
5555555555555555555555555555555557555575555555a555a55555557555555555557555755555555575555555575575755555555555555555555555555555
55555555555555555555555555555555575557755555aaa555a55555557775555555777557755555555575555555575577755555555555555555555555555555
55555555555555555555555555555555575555755555a55555a55555555575555555755555755555555575555555575555755555555555555555555555555555
55555555555555555555555555555555777577755555aaa555a55555557775555555777577755555555575555555777555755555555555555555555555555555
55555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
55555555555555555555555555555555588887555555588887555555588887555555588887555555588887555555588887555555555555555555555555555555
55555555555555555555555555555555588887755555588887755555588887755555588887755555588887755555588887755555555555555555555555555555
55555555555555555555555555555555888888885555888888885555888888885555888888885555888888885555888888885555555555555555555555555555
55555555555555555555555555555555888888885555888888885555888888885555888888885555888888885555888888885555555555555555555555555555
55555555555555555555555555555555868888685555868888685555868888685555868888685555868888685555868888685555555555555555555555555555
55555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
55555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
55555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
66666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666666
55555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000666066606660066006600000066666000000666006600000666066600660666066600000000000000000000000000000
00000000000000000000000000000000606060606000600060000000660006600000060060600000606060006000600006000000000000000000000000000000
00000000000000000000000000000000666066006600666066600000660606600000060060600000660066006660660006000000000000000000000000000000
00000000000000000000000000000000600060606000006000600000660006600000060060600000606060000060600006000000000000000000000000000000
00000000000000000000000000000000600060606660660066000000066666000000060066000000606066606600666006000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000b0b00bb0b0b00000b0b0bbb0bb000b00000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000b0b0b0b0b0b00000b0b00b00b0b00b00000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000bbb0b0b0b0b00000b0b00b00b0b00b00000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000b0b0b0b0b00000bbb00b00b0b00000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000bbb0bb000bb00000bbb0bbb0b0b00b00000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000

__map__
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0101010101010101010101010101010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3131313131313131313131313131313100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1111111111111111111111111111111100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3131313131313131313131313131313100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
2121212121212121212121212121212100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
000800001b0501f050240502905000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000001a0501d0502005024050270502a0502d05000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000002b05026050210501b05017050130500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
